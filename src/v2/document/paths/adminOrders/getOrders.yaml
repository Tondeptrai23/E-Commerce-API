# GET /admin/orders
tags:
  - Admin Orders
summary: Get all orders
description: |
  Get all orders.
  Support pagination, filtering, sorting.
parameters:
  - name: page
    in: query
    description: Page to retrieve
    required: false
    schema:
      type: integer

  - name: size
    in: query
    description: Size each page
    required: false
    schema:
      type: integer

  - name: sort
    in: query
    description: Sort orders by one or more fields.
    required: false
    schema:
      example: "finalTotal,-createdAt"
      oneOf:
        - type: string
        - type: array

  - name: subTotal
    in: query
    description: Filter by subTotal <br>
      Support operators "[lte]", "[gte]", "[between]"
    required: false
    schema:
      type: string
      example: "[lte]100"

  - name: finalTotal
    in: query
    description: Filter by finalTotal <br>
      Support operators "[lte]", "[gte]", "[between]"
    required: false
    schema:
      type: string
      example: "[gte]100"

  - name: status
    in: query
    description: Filter by status
    required: false
    schema:
      type: string
      enum: ["pending", "processing", "shipping", "delivered"]
      example: "pending"

  - name: paymentMethod
    in: query
    description: Filter by paymentMethod
    required: false
    schema:
      type: string
      enum: ["cod", "momo", "credit card"]
      example: "cod"

  - name: createdAt
    in: query
    description: Filter by createdAt
      Support operators "[lte]", "[gte]", "[between]"
    required: false
    schema:
      type: string
      example: "[lte]2021-01-01T00:00:00.000Z"

  - name: updatedAt
    in: query
    description: Filter by updatedAt <br>
      Support operators "[lte]", "[gte]", "[between]"
    required: false
    schema:
      type: string
      example: "[lte]2021-01-01T00:00:00.000Z"

  - name: deletedAt
    in: query
    description: Filter by deletedAt <br>
      Support operators "[lte]", "[gte]", "[between]" <br>
      If you want to get only deleted orders, use "[lte]" with current date
    required: false
    schema:
      type: string
      example: "[lte]2021-01-01T00:00:00.000Z"

security:
  - bearerAuth: []
responses:
  200:
    description: Orders found
    content:
      application/json:
        schema:
          type: object
          properties:
            success:
              type: boolean
              example: true
            orders:
              type: array
              items:
                type: object
                allOf:
                  - $ref: "../../schemas/shopping/order.yaml"
                  - $ref: "../../schemas/timestamps.yaml"
  400:
    description: Validation Error
    content:
      application/json:
        schema:
          $ref: "../../schemas/error/error400.yaml"
  401:
    description: Token invalid, not authenticated
    content:
      application/json:
        schema:
          $ref: "../../schemas/error/error401.yaml"
  403:
    description: Not an admin
    content:
      application/json:
        schema:
          $ref: "../../schemas/error/error403.yaml"
  500:
    description: Internal Server Error
    content:
      application/json:
        schema:
          $ref: "../../schemas/error/error500.yaml"